#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>

//An old developer used it but since it's never called
//it won't matter to just leave it here
void win()
{
    puts("WIN");
    system("/bin/sh");
}

void do_fake_authenticate()
{
    char password[0x20];
    char username[0x20];

    puts("Welcome to the top secret nuclear activation program");
    printf("Please enter your username: ");
    fflush(stdout);

    //Secure input, no overflow here
    int read_bytes = read(0, username, sizeof(username));

    username[read_bytes-1] = 0;

    printf("Welcome %s, Please enter your password to continue\n", username);
    printf("Password: ");
    fflush(stdout);

    scanf("%[^\n]%*c", password);
}

int main()
{
    //:^) no real authentication, nobody can hack me
    do_fake_authenticate();
    puts("Authentication failed");
}
